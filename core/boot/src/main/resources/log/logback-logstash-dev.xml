<?xml version="1.0" encoding="UTF-8"?>
<!--scan自动扫描重新加载配置 scanPeriod重新加载配置的周期-->
<configuration scan="true" scanPeriod="10 seconds">
    <include resource="org/springframework/boot/logging/logback/defaults.xml"/>
    <include resource="org/springframework/boot/logging/logback/console-appender.xml"/>
    <springProperty scope="local" name="appname" source="spring.application.name"
                    defaultValue="undefined"/>
    <springProperty scope="local" name="logstash-server-addr" source="logstash.server-addr"
                    defaultValue="undefined"/>
    <!--    <contextName>logback</contextName>-->
    <!--定义参数,后面可以通过${app.name}使用-->
    <!--<property name="app-name" value="provider"/>-->
    <!--    <contextName>${spring.application.name}</contextName>-->
<!--    <appender name="LOGSTASH" class="net.logstash.logback.appender.LogstashTcpSocketAppender">-->
<!--        <destination>129.211.7.107:5000</destination>-->
<!--        <destination>${logstash-server-addr}</destination>-->
<!--        &lt;!&ndash; encoder必须配置,有多种可选 &ndash;&gt;-->
<!--        <encoder charset="UTF-8" class="net.logstash.logback.encoder.LogstashEncoder">-->
<!--            &lt;!&ndash;在生成的json中会加这个字段&ndash;&gt;-->
<!--            <customFields>{"appname":"${appname}"}</customFields>-->
<!--        </encoder>-->
<!--        <filter class="ch.qos.logback.classic.filter.ThresholdFilter">-->
<!--            <level>${log.level}</level>-->
<!--        </filter>-->
<!--        <connectionStrategy>-->
<!--            <roundRobin>-->
<!--                &lt;!&ndash; 轮询时间间隔&ndash;&gt;-->
<!--                <connectionTTL>5 minutes</connectionTTL>-->
<!--                &lt;!&ndash;<connectionTTL>5 seconds</connectionTTL>&ndash;&gt;-->
<!--            </roundRobin>-->
<!--        </connectionStrategy>-->
<!--    </appender>-->

    <root level="info">
        <appender-ref ref="CONSOLE"/>
<!--        <appender-ref ref="LOGSTASH"/>-->
    </root>

    <!-- 日志输出级别 -->

    <logger name="net.sf.ehcache" level="INFO"/>
    <logger name="druid.sql" level="INFO"/>


    <!-- MyBatis log configure -->
    <logger name="com.apache.ibatis" level="INFO"/>
    <logger name="org.mybatis.spring" level="DEBUG"/>
    <logger name="java.sql.Connection" level="DEBUG"/>
    <logger name="java.sql.Statement" level="DEBUG"/>
    <logger name="java.sql.PreparedStatement" level="DEBUG"/>

    <!-- 减少部分debug日志 -->
    <logger name="druid.sql" level="INFO"/>
    <logger name="org.apache.shiro" level="INFO"/>
    <logger name="org.mybatis.spring" level="INFO"/>
    <logger name="org.springframework" level="INFO"/>
    <logger name="org.springframework.context" level="WARN"/>
    <logger name="org.springframework.beans" level="WARN"/>
    <logger name="com.baomidou.mybatisplus" level="INFO"/>
    <logger name="org.apache.ibatis.io" level="INFO"/>
    <logger name="org.apache.velocity" level="INFO"/>
    <logger name="org.eclipse.jetty" level="INFO"/>
    <logger name="io.undertow" level="INFO"/>
    <logger name="org.xnio.nio" level="INFO"/>
    <logger name="org.thymeleaf" level="INFO"/>
    <logger name="springfox.documentation" level="INFO"/>
    <logger name="org.hibernate.validator" level="INFO"/>
    <logger name="com.netflix.loadbalancer" level="INFO"/>
    <logger name="com.netflix.hystrix" level="INFO"/>
    <logger name="com.netflix.zuul" level="INFO"/>
    <logger name="de.codecentric" level="INFO"/>
    <!-- cache INFO -->
    <logger name="net.sf.ehcache" level="INFO"/>
    <logger name="org.springframework.cache" level="INFO"/>
    <!-- cloud -->
    <logger name="org.apache.http" level="INFO"/>
    <logger name="com.netflix.discovery" level="INFO"/>
    <logger name="com.netflix.eureka" level="INFO"/>
    <!-- 业务日志 -->
    <Logger name="org.springblade" level="DEBUG"/>
    <Logger name="org.springblade.core.version" level="INFO"/>

    <!-- 减少nacos日志 -->
    <logger name="com.alibaba.nacos" level="ERROR"/>


</configuration>
